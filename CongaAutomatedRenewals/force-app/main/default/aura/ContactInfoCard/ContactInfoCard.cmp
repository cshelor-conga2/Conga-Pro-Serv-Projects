<aura:component controller="ContactInfoUtilities" implements="forceCommunity:availableForAllPageTypes" access="global" >
    
    <aura:attribute name="editMode" type="Boolean" default="false" />
    <aura:attribute name="currentUserId" type="Id"/>
    <aura:handler name="contactInfoEvent" event="c:ContactInfoEvent" action="{!c.handleEvent}"/>

    <aura:handler name="init" value="{!this}" action="{!c.init}"/>
    
    <lightning:card title="" iconName="standard:contact">  
              
    <aura:if isTrue="{! v.currentUserId }">
        <aura:if isTrue="{! !v.editMode }">
            <c:ContactInfoView currentUserId="{!v.currentUserId}"/>
        </aura:if>
        
        <aura:if isTrue="{! v.editMode }">
            <c:ContactInfoEdit currentUserId="{!v.currentUserId}"/>
        </aura:if>
	</aura:if>
        
        
        <aura:set attribute="actions">
            <lightning:buttonStateful class="card-info-button"
                                    state="{! v.editMode }" 
                                    iconNameWhenOff="utility:edit_form" 
                                    labelWhenOff="Edit" 
                                    iconNameWhenOn="utility:check" 
                                    labelWhenOn="View" 
                                    onclick="{! c.toggleMode }"/>
        </aura:set>
        
    </lightning:card>   
    
</aura:component>